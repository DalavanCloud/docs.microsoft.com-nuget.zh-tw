---
title: NuGet 2.7 版本資訊
description: 版本資訊適用於 NuGet 2.7 包括已知的問題、 bug 修正、 新增的功能和 Dcr。
author: karann-msft
ms.author: karann
ms.date: 11/11/2016
ms.topic: conceptual
ms.openlocfilehash: 97d3e5f0238fd6947a54e5eb3229b89b6746f18c
ms.sourcegitcommit: 1d1406764c6af5fb7801d462e0c4afc9092fa569
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 09/04/2018
ms.locfileid: "43550961"
---
# <a name="nuget-27-release-notes"></a><span data-ttu-id="5df48-103">NuGet 2.7 版本資訊</span><span class="sxs-lookup"><span data-stu-id="5df48-103">NuGet 2.7 Release Notes</span></span>

<span data-ttu-id="5df48-104">[NuGet 2.6.1 for WebMatrix 版本資訊](../release-notes/nuget-2.6.1-for-webmatrix.md) | [NuGet 2.7.1 版本資訊](../release-notes/nuget-2.7.1.md)</span><span class="sxs-lookup"><span data-stu-id="5df48-104">[NuGet 2.6.1 for WebMatrix Release Notes](../release-notes/nuget-2.6.1-for-webmatrix.md) | [NuGet 2.7.1 Release Notes](../release-notes/nuget-2.7.1.md)</span></span>

<span data-ttu-id="5df48-105">NuGet 2.7 已於 2013 年 8 月 22 日發行。</span><span class="sxs-lookup"><span data-stu-id="5df48-105">NuGet 2.7 was released on August 22, 2013.</span></span>

## <a name="acknowledgements"></a><span data-ttu-id="5df48-106">謝誌</span><span class="sxs-lookup"><span data-stu-id="5df48-106">Acknowledgements</span></span>

<span data-ttu-id="5df48-107">我們想要感謝下列外部參與者，NuGet 2.7 到重大貢獻：</span><span class="sxs-lookup"><span data-stu-id="5df48-107">We would like to thank the following external contributors for their significant contributions to NuGet 2.7:</span></span>

1. <span data-ttu-id="5df48-108">[Mike Roth](http://www.codeplex.com/site/users/view/mxrss) ([@mxrss](https://twitter.com/mxrss))</span><span class="sxs-lookup"><span data-stu-id="5df48-108">[Mike Roth](http://www.codeplex.com/site/users/view/mxrss) ([@mxrss](https://twitter.com/mxrss))</span></span>
    - <span data-ttu-id="5df48-109">當詳細列出封裝和詳細資訊會顯示授權 url。</span><span class="sxs-lookup"><span data-stu-id="5df48-109">Show License url when listing packages and verbosity is detailed.</span></span>
2. <span data-ttu-id="5df48-110">[Adam Ralph](http://www.codeplex.com/site/users/view/adamralph) ([@adamralph](https://twitter.com/adamralph))</span><span class="sxs-lookup"><span data-stu-id="5df48-110">[Adam Ralph](http://www.codeplex.com/site/users/view/adamralph) ([@adamralph](https://twitter.com/adamralph))</span></span>
    - <span data-ttu-id="5df48-111">[# 1956年](http://nuget.codeplex.com/workitem/1956)-developmentDependency 將屬性新增至`packages.config`並使其只包含執行階段套件組件命令中使用它</span><span class="sxs-lookup"><span data-stu-id="5df48-111">[#1956](http://nuget.codeplex.com/workitem/1956) - Add developmentDependency attribute to `packages.config` and use it in pack command to only include runtime packages</span></span>
3. <span data-ttu-id="5df48-112">[Rafael Nicoletti](http://www.codeplex.com/site/users/view/tkrafael) ([@tkrafael](https://twitter.com/tkrafael))</span><span class="sxs-lookup"><span data-stu-id="5df48-112">[Rafael Nicoletti](http://www.codeplex.com/site/users/view/tkrafael) ([@tkrafael](https://twitter.com/tkrafael))</span></span>
    - <span data-ttu-id="5df48-113">避免重複 nuget.exe pack 命令的屬性索引鍵。</span><span class="sxs-lookup"><span data-stu-id="5df48-113">Avoid duplicate Properties key in nuget.exe pack command.</span></span>
4. <span data-ttu-id="5df48-114">[Ben Phegan](http://www.codeplex.com/site/users/view/benphegan) ([@BenPhegan](https://twitter.com/benphegan))</span><span class="sxs-lookup"><span data-stu-id="5df48-114">[Ben Phegan](http://www.codeplex.com/site/users/view/benphegan) ([@BenPhegan](https://twitter.com/benphegan))</span></span>
    - <span data-ttu-id="5df48-115">[# 2610年](http://nuget.codeplex.com/workitem/2610)-machine 快取大小增加至 200。</span><span class="sxs-lookup"><span data-stu-id="5df48-115">[#2610](http://nuget.codeplex.com/workitem/2610) - Increase machine cache size to 200.</span></span>
5. <span data-ttu-id="5df48-116">[Slava Trenogin](http://www.codeplex.com/site/users/view/derigel) ([@derigel](https://twitter.com/derigel))</span><span class="sxs-lookup"><span data-stu-id="5df48-116">[Slava Trenogin](http://www.codeplex.com/site/users/view/derigel) ([@derigel](https://twitter.com/derigel))</span></span>
    - <span data-ttu-id="5df48-117">[#3217](http://nuget.codeplex.com/workitem/3217) -修正 NuGet 對話方塊顯示 [錯誤] 索引標籤中的更新</span><span class="sxs-lookup"><span data-stu-id="5df48-117">[#3217](http://nuget.codeplex.com/workitem/3217) - Fix NuGet dialog showing updates in the wrong tab</span></span>
    - <span data-ttu-id="5df48-118">修正 Project.TargetFramework 在可以是 null ProjectManager</span><span class="sxs-lookup"><span data-stu-id="5df48-118">Fix Project.TargetFramework can be null in ProjectManager</span></span>
    - <span data-ttu-id="5df48-119">[#3248](http://nuget.codeplex.com/workitem/3248) -修正 SharedPackageRepository FindPackage/FindPackagesById 上不存在 packageId，將會失敗</span><span class="sxs-lookup"><span data-stu-id="5df48-119">[#3248](http://nuget.codeplex.com/workitem/3248) - Fix SharedPackageRepository FindPackage/FindPackagesById will fail on non-existent packageId</span></span>
6. <span data-ttu-id="5df48-120">[Kevin Boyle](http://www.codeplex.com/site/users/view/KevinBoyleRG) ([@kevfromireland](https://twitter.com/kevfromireland))</span><span class="sxs-lookup"><span data-stu-id="5df48-120">[Kevin Boyle](http://www.codeplex.com/site/users/view/KevinBoyleRG) ([@kevfromireland](https://twitter.com/kevfromireland))</span></span>
    - <span data-ttu-id="5df48-121">[#3234](http://nuget.codeplex.com/workitem/3234) -啟用遊牧專案的支援</span><span class="sxs-lookup"><span data-stu-id="5df48-121">[#3234](http://nuget.codeplex.com/workitem/3234) - Enable support for Nomad project</span></span>
7. <span data-ttu-id="5df48-122">[Corin Blaikie](http://www.codeplex.com/site/users/view/corinblaikie) ([@corinblaikie](https://twitter.com/corinblaikie))</span><span class="sxs-lookup"><span data-stu-id="5df48-122">[Corin Blaikie](http://www.codeplex.com/site/users/view/corinblaikie) ([@corinblaikie](https://twitter.com/corinblaikie))</span></span>
    - <span data-ttu-id="5df48-123">[#3252](http://nuget.codeplex.com/workitem/3252) -修正推送命令會失敗，並結束程式碼 0，當檔案不存在。</span><span class="sxs-lookup"><span data-stu-id="5df48-123">[#3252](http://nuget.codeplex.com/workitem/3252) - Fix push command fails with exit code 0 when file doesn't exist.</span></span>
8. [<span data-ttu-id="5df48-124">Martin Veselý</span><span class="sxs-lookup"><span data-stu-id="5df48-124">Martin Veselý</span></span>](http://www.codeplex.com/site/users/view/veselkamartin)
    - <span data-ttu-id="5df48-125">[#3226](http://nuget.codeplex.com/workitem/3226) -修正 bug，以新增 BindingRedirect 命令時參考資料庫專案的專案。</span><span class="sxs-lookup"><span data-stu-id="5df48-125">[#3226](http://nuget.codeplex.com/workitem/3226) - Fix bug with Add-BindingRedirect command when a project references a database project.</span></span>
9. <span data-ttu-id="5df48-126">[Miroslav Bajtos](http://www.codeplex.com/site/users/view/miroslavbajtos) ([@bajtos](https://twitter.com/bajtos))</span><span class="sxs-lookup"><span data-stu-id="5df48-126">[Miroslav Bajtos](http://www.codeplex.com/site/users/view/miroslavbajtos) ([@bajtos](https://twitter.com/bajtos))</span></span>
    - <span data-ttu-id="5df48-127">[# 2891年](http://nuget.codeplex.com/workitem/2891)-修正 bug 的 nuget.pack 不正確剖析 'exclude' 屬性中的萬用字元。</span><span class="sxs-lookup"><span data-stu-id="5df48-127">[#2891](http://nuget.codeplex.com/workitem/2891) - Fix bug of nuget.pack parsing wildcard in the 'exclude' attribute incorrectly.</span></span>
10. <span data-ttu-id="5df48-128">[Justin Dearing](http://www.codeplex.com/site/users/view/zippy1981) ([@zippy1981](https://twitter.com/zippy1981))</span><span class="sxs-lookup"><span data-stu-id="5df48-128">[Justin Dearing](http://www.codeplex.com/site/users/view/zippy1981) ([@zippy1981](https://twitter.com/zippy1981))</span></span>
     - <span data-ttu-id="5df48-129">[#3307](http://nuget.codeplex.com/workitem/3307) -修正 bug`NuGet.targets`不會通過 $ （platform） nuget.exe 還原套件時。</span><span class="sxs-lookup"><span data-stu-id="5df48-129">[#3307](http://nuget.codeplex.com/workitem/3307) - Fix bug `NuGet.targets` does not pass $(Platform) to nuget.exe when restoring packages.</span></span>
11. [<span data-ttu-id="5df48-130">Brian Federici</span><span class="sxs-lookup"><span data-stu-id="5df48-130">Brian Federici</span></span>](http://www.codeplex.com/site/users/view/benerdin)
     - <span data-ttu-id="5df48-131">[#3294](http://nuget.codeplex.com/workitem/3294) -nuget.exe package 命令，這可讓您新增具有相同名稱但大小寫不同的最終導致 「 項目已經存在 」 的例外狀況的檔案中的修正 bug。</span><span class="sxs-lookup"><span data-stu-id="5df48-131">[#3294](http://nuget.codeplex.com/workitem/3294) - Fix bug in nuget.exe package command which would allow adding files with the same name but different casing, eventually causing "Item already exists" exception.</span></span>
12. <span data-ttu-id="5df48-132">[Daniel Cazzulino](http://www.codeplex.com/site/users/view/dcazzulino) ([@kzu](https://twitter.com/kzu))</span><span class="sxs-lookup"><span data-stu-id="5df48-132">[Daniel Cazzulino](http://www.codeplex.com/site/users/view/dcazzulino) ([@kzu](https://twitter.com/kzu))</span></span>
     - <span data-ttu-id="5df48-133">[# 2990年](http://nuget.codeplex.com/workitem/2990)-NetPortableProfile 類別的 [新增版本] 屬性。</span><span class="sxs-lookup"><span data-stu-id="5df48-133">[#2990](http://nuget.codeplex.com/workitem/2990) - Add Version property to NetPortableProfile class.</span></span>
13. [<span data-ttu-id="5df48-134">David Simner</span><span class="sxs-lookup"><span data-stu-id="5df48-134">David Simner</span></span>](https://www.codeplex.com/site/users/view/DavidSimner)
     - <span data-ttu-id="5df48-135">[#3460](https://nuget.codeplex.com/workitem/3460) -如果修正錯誤 NullReferenceException requireApiKey = true，但標頭 X-NUGET-APIKEY 不存在</span><span class="sxs-lookup"><span data-stu-id="5df48-135">[#3460](https://nuget.codeplex.com/workitem/3460) - Fix bug NullReferenceException if requireApiKey = true, but the header X-NUGET-APIKEY isn't present</span></span>
14. <span data-ttu-id="5df48-136">[Michael Friis](https://www.codeplex.com/site/users/view/friism) ([@friism](https://twitter.com/friism))</span><span class="sxs-lookup"><span data-stu-id="5df48-136">[Michael Friis](https://www.codeplex.com/site/users/view/friism) ([@friism](https://twitter.com/friism))</span></span>
     - <span data-ttu-id="5df48-137">[#3278](https://nuget.codeplex.com/workitem/3278) -修正 NuGet.Build 目標檔案，以讓它 MonoDevelop 上正常運作</span><span class="sxs-lookup"><span data-stu-id="5df48-137">[#3278](https://nuget.codeplex.com/workitem/3278) - Fixes NuGet.Build targets file to so that it works correctly on MonoDevelop</span></span>
15. <span data-ttu-id="5df48-138">[Pranav Krishnamoorthy](https://www.codeplex.com/site/users/view/pranavkm) ([@pranav_km](https://twitter.com/pranav_km))</span><span class="sxs-lookup"><span data-stu-id="5df48-138">[Pranav Krishnamoorthy](https://www.codeplex.com/site/users/view/pranavkm) ([@pranav_km](https://twitter.com/pranav_km))</span></span>
     - <span data-ttu-id="5df48-139">改善還原命令效能增加平行處理</span><span class="sxs-lookup"><span data-stu-id="5df48-139">Improve Restore command performance by increasing parallelization</span></span>

## <a name="notable-features-in-the-release"></a><span data-ttu-id="5df48-140">在版本中值得注意的功能</span><span class="sxs-lookup"><span data-stu-id="5df48-140">Notable features in the release</span></span>

### <a name="package-restore-by-default-with-implicit-consent"></a><span data-ttu-id="5df48-141">根據預設 （隱含地同意） 的套件還原</span><span class="sxs-lookup"><span data-stu-id="5df48-141">Package Restore by Default (with implicit consent)</span></span>

<span data-ttu-id="5df48-142">NuGet 2.7 導入了新的套件還原，方法，也能夠克服的主要障礙： 套件還原同意現在預設為開啟 ！</span><span class="sxs-lookup"><span data-stu-id="5df48-142">NuGet 2.7 introduces a new approach to package restore, and also overcomes a major hurdle: Package restore consent is now on by default!</span></span> <span data-ttu-id="5df48-143">新的方法和隱含地同意的組合會大幅簡化套件還原案例。</span><span class="sxs-lookup"><span data-stu-id="5df48-143">The combination of the new approach and the implicit consent will drastically simplify package restore scenarios.</span></span>

#### <a name="implicit-consent"></a><span data-ttu-id="5df48-144">隱含地同意</span><span class="sxs-lookup"><span data-stu-id="5df48-144">Implicit Consent</span></span>

<span data-ttu-id="5df48-145">NuGet 版本 2.0、 2.1、 2.2、 2.5 和 2.6，明確地允許 NuGet 下載遺漏的套件期間所需的使用者來建立。</span><span class="sxs-lookup"><span data-stu-id="5df48-145">With NuGet versions 2.0, 2.1, 2.2, 2.5, and 2.6, users needed to explicitly allow NuGet to download missing packages during build.</span></span> <span data-ttu-id="5df48-146">如果此同意有未被明確授，則必須啟用套件還原的解決方案無法建立，直到使用者已授與同意。</span><span class="sxs-lookup"><span data-stu-id="5df48-146">If this consent had not been explicitly given, then solutions that had enabled package restore would fail to build until the user had granted consent.</span></span>

<span data-ttu-id="5df48-147">從 NuGet 2.7 開始，套件還原同意預設值是 ON 時明確地讓使用者能夠*退出*的套件還原，如有需要，在 Visual Studio 中的 NuGet 的設定中使用核取方塊。</span><span class="sxs-lookup"><span data-stu-id="5df48-147">Starting with NuGet 2.7, package restore consent is ON by default while allowing users to explicitly *opt out* of package restore if desired, using the checkbox in NuGet's settings in Visual Studio.</span></span> <span data-ttu-id="5df48-148">隱含地同意此變更會影響 NuGet 在下列環境：</span><span class="sxs-lookup"><span data-stu-id="5df48-148">This change for implicit consent affects NuGet in the following environments:</span></span>

* <span data-ttu-id="5df48-149">Visual Studio 2013 Preview</span><span class="sxs-lookup"><span data-stu-id="5df48-149">Visual Studio 2013 Preview</span></span>
* <span data-ttu-id="5df48-150">Visual Studio 2012</span><span class="sxs-lookup"><span data-stu-id="5df48-150">Visual Studio 2012</span></span>
* <span data-ttu-id="5df48-151">Visual Studio 2010</span><span class="sxs-lookup"><span data-stu-id="5df48-151">Visual Studio 2010</span></span>
* <span data-ttu-id="5df48-152">nuget.exe 命令列公用程式</span><span class="sxs-lookup"><span data-stu-id="5df48-152">nuget.exe Command-Line Utility</span></span>

#### <a name="automatic-package-restore-in-visual-studio"></a><span data-ttu-id="5df48-153">Visual Studio 中的自動套件還原</span><span class="sxs-lookup"><span data-stu-id="5df48-153">Automatic Package Restore in Visual Studio</span></span>

<span data-ttu-id="5df48-154">從 NuGet 2.7 開始，NuGet 會自動下載遺漏的套件在 Visual Studio 建置期間即使套件還原尚未明確啟用的解決方案。</span><span class="sxs-lookup"><span data-stu-id="5df48-154">Starting with NuGet 2.7, NuGet will automatically download missing packages during build in Visual Studio, even if package restore hasn't been explicitly enabled for the solution.</span></span> <span data-ttu-id="5df48-155">此自動套件還原會在 Visual Studio 中，當您建置專案或方案，但之前叫用 MSBuild。</span><span class="sxs-lookup"><span data-stu-id="5df48-155">This Automatic Package Restore happens in Visual Studio when you build a project or the solution, but before MSBuild is invoked.</span></span> <span data-ttu-id="5df48-156">這會產生幾個重要優點：</span><span class="sxs-lookup"><span data-stu-id="5df48-156">This yields a few significant benefits:</span></span>

1. <span data-ttu-id="5df48-157">不再需要在您的方案使用 [啟用 NuGet 封裝還原] 筆勢</span><span class="sxs-lookup"><span data-stu-id="5df48-157">No further need to use the "Enable NuGet Package Restore" gesture on your solution</span></span>
1. <span data-ttu-id="5df48-158">專案不需要進行修改，而且 NuGet 不會對您的專案，以確保啟用套件還原的變更</span><span class="sxs-lookup"><span data-stu-id="5df48-158">Projects don't need to be modified, and NuGet won't make changes to your project to ensure package restore is enabled</span></span>
1. <span data-ttu-id="5df48-159">所有的 NuGet 套件，包括包含 MSBuild 屬性/目標檔案的匯入將會還原*之前*MSBuild 會叫用，確保在建置期間，都會正確地辨識這些屬性/目標</span><span class="sxs-lookup"><span data-stu-id="5df48-159">All NuGet packages, including those that included MSBuild imports for props/targets files, will be restored *before* MSBuild is invoked, ensuring those props/targets are properly recognized during the build</span></span>

<span data-ttu-id="5df48-160">若要在 Visual Studio 中，使用自動套件還原，您只需要接受下列其中一個 (in) 動作：</span><span class="sxs-lookup"><span data-stu-id="5df48-160">In order to use Automatic Package Restore in Visual Studio, you only need to take one (in)action:</span></span>

1. <span data-ttu-id="5df48-161">未簽入您`packages`資料夾</span><span class="sxs-lookup"><span data-stu-id="5df48-161">Don't check in your `packages` folder</span></span>

<span data-ttu-id="5df48-162">有數種方式，以省略您`packages`從原始檔控制資料夾。</span><span class="sxs-lookup"><span data-stu-id="5df48-162">There are several ways to omit your `packages` folder from source control.</span></span> <span data-ttu-id="5df48-163">如需詳細資訊，請參閱 <<c0> [ 套件和原始檔控制](../consume-packages/packages-and-source-control.md)主題。</span><span class="sxs-lookup"><span data-stu-id="5df48-163">For more information, see the [Packages and Source Control](../consume-packages/packages-and-source-control.md) topic.</span></span>

<span data-ttu-id="5df48-164">雖然所有使用者都是隱含加入自動套件還原的同意，您可以輕鬆地選擇退出透過 Visual Studio 中的套件管理員設定。</span><span class="sxs-lookup"><span data-stu-id="5df48-164">While all users are implicitly opted into Automatic Package Restore consent, you can easily opt out through the Package Manager settings in Visual Studio.</span></span>

![套件管理員設定](./media/NuGet-2.7/package-manager-settings.png)

#### <a name="simplified-package-restore-from-the-command-line"></a><span data-ttu-id="5df48-166">從命令列的簡化的套件還原</span><span class="sxs-lookup"><span data-stu-id="5df48-166">Simplified Package Restore from the Command-Line</span></span>

<span data-ttu-id="5df48-167">NuGet 2.7 導入了 nuget.exe 的新功能： `nuget.exe restore`</span><span class="sxs-lookup"><span data-stu-id="5df48-167">NuGet 2.7 introduces a new feature for nuget.exe: `nuget.exe restore`</span></span>

<span data-ttu-id="5df48-168">這個新的還原命令可讓您輕鬆地還原所接受的解決方案檔案或資料夾，做為引數的 使用單一命令中，解決方案的所有封裝。</span><span class="sxs-lookup"><span data-stu-id="5df48-168">This new Restore command allows you to easily restore all packages for a solution with a single command, by accepting a solution file or folder as an argument.</span></span> <span data-ttu-id="5df48-169">此外，在目前的資料夾只是單一的解決方案時，就會隱含該引數。</span><span class="sxs-lookup"><span data-stu-id="5df48-169">Furthermore, that argument is implied when there's only a single solution in the current folder.</span></span> <span data-ttu-id="5df48-170">這表示從包含單一的方案檔 (MySolution.sln) 的資料夾的所有下列都工作：</span><span class="sxs-lookup"><span data-stu-id="5df48-170">That means the following all work from a folder that contains a single solution file (MySolution.sln):</span></span>

1. <span data-ttu-id="5df48-171">nuget.exe restore MySolution.sln</span><span class="sxs-lookup"><span data-stu-id="5df48-171">nuget.exe restore MySolution.sln</span></span>
1. <span data-ttu-id="5df48-172">nuget.exe restore。</span><span class="sxs-lookup"><span data-stu-id="5df48-172">nuget.exe restore .</span></span>
1. <span data-ttu-id="5df48-173">nuget.exe restore</span><span class="sxs-lookup"><span data-stu-id="5df48-173">nuget.exe restore</span></span>

<span data-ttu-id="5df48-174">Restore 命令會開啟方案檔，並尋找方案內的所有專案。</span><span class="sxs-lookup"><span data-stu-id="5df48-174">The Restore command will open the solution file and find all projects within the solution.</span></span> <span data-ttu-id="5df48-175">從該處，就可以找出`packages.config`針對每個專案和還原的所有封裝所找到的檔案。</span><span class="sxs-lookup"><span data-stu-id="5df48-175">From there, it will find the `packages.config` files for each of the projects and restore all of the packages found.</span></span> <span data-ttu-id="5df48-176">它也會還原位於方案層級套件`.nuget\packages.config`檔案。</span><span class="sxs-lookup"><span data-stu-id="5df48-176">It also restores solution-level packages found in the `.nuget\packages.config` file.</span></span> <span data-ttu-id="5df48-177">新的 Restore 命令的詳細資訊可在[命令列參考](../tools/cli-ref-restore.md)。</span><span class="sxs-lookup"><span data-stu-id="5df48-177">More information about the new Restore command can be found in the [Command-Line Reference](../tools/cli-ref-restore.md).</span></span>

#### <a name="the-new-package-restore-workflow"></a><span data-ttu-id="5df48-178">新的套件還原工作流程</span><span class="sxs-lookup"><span data-stu-id="5df48-178">The New Package Restore Workflow</span></span>

<span data-ttu-id="5df48-179">我們很榮幸套件還原，這些變更的相關的因為它導入了新的工作流程。</span><span class="sxs-lookup"><span data-stu-id="5df48-179">We are excited about these changes to Package Restore, as it introduces a new workflow.</span></span> <span data-ttu-id="5df48-180">如果您想要忽略您的套件，從原始檔控制您只需不認可`packages`資料夾。</span><span class="sxs-lookup"><span data-stu-id="5df48-180">If you want to omit your packages from source control you simply don't commit the `packages` folder.</span></span> <span data-ttu-id="5df48-181">Visual Studio 使用者開啟及建置方案會自動還原套件。</span><span class="sxs-lookup"><span data-stu-id="5df48-181">Visual Studio users who open and build the solution will see the packages automatically restored.</span></span> <span data-ttu-id="5df48-182">命令列建置，只需叫用`nuget.exe restore`叫用之前`msbuild`。</span><span class="sxs-lookup"><span data-stu-id="5df48-182">For command-line builds, simply invoke `nuget.exe restore` before invoking `msbuild`.</span></span> <span data-ttu-id="5df48-183">您不再需要在您的方案中，使用 [啟用 NuGet 封裝還原] 筆勢，請記得，我們不再需要修改您的專案，來改變組建。</span><span class="sxs-lookup"><span data-stu-id="5df48-183">You no longer need to remember to use the "Enable NuGet Package Restore" gesture on your solution, and we'll no longer need to modify your projects to alter the build.</span></span> <span data-ttu-id="5df48-184">這也會產生很多改善的套件，包括匯入的 MSBuild，特別是針對透過 NuGet 的最新功能新增匯入並[自動匯入屬性/目標檔案](../release-notes/nuget-2.5.md#automatic-import-of-msbuild-targets-and-props-files)\build 資料夾中。</span><span class="sxs-lookup"><span data-stu-id="5df48-184">And this also yields a much improved experience for packages that include MSBuild imports, especially for imports added through NuGet's recent feature for [automatically importing props/targets files](../release-notes/nuget-2.5.md#automatic-import-of-msbuild-targets-and-props-files) from the \build folder.</span></span>

<span data-ttu-id="5df48-185">除了我們自行完成的工作，我們也正在使用一些重要的夥伴，若要完成這個新方法。我們目前沒有具體的時間表的任一，但每個夥伴相關的新方法正如我們的榮幸。</span><span class="sxs-lookup"><span data-stu-id="5df48-185">In addition to the work we've done ourselves, we're also working with some important partners to round this new approach out. We don't have concrete timelines for any of these yet, but each partner is as excited as we are about the new approach.</span></span>

* <span data-ttu-id="5df48-186">Team Foundation Service-他們正在整合呼叫`nuget.exe restore`的預設建置案例。</span><span class="sxs-lookup"><span data-stu-id="5df48-186">Team Foundation Service - They are working to integrate the call to `nuget.exe restore` into the default build scenarios.</span></span>
* <span data-ttu-id="5df48-187">Windows Azure 網站-他們正在可讓您將您的專案推送至 Azure，並讓`nuget.exe restore`建置您的網站之前呼叫。</span><span class="sxs-lookup"><span data-stu-id="5df48-187">Windows Azure Web Sites - They are working to allow you to push your project to Azure and have `nuget.exe restore` called before your web site is built.</span></span>
* <span data-ttu-id="5df48-188">TeamCity-它們會更新其 NuGet 安裝程式外掛程式的 TeamCity 8.x</span><span class="sxs-lookup"><span data-stu-id="5df48-188">TeamCity - They are updating their NuGet Installer plugin for TeamCity 8.x</span></span>
* <span data-ttu-id="5df48-189">AppHarbor-他們正在可讓您將您的存放庫推送至 AppHarbor 還有`nuget.exe restore`建置您的解決方案之前呼叫。</span><span class="sxs-lookup"><span data-stu-id="5df48-189">AppHarbor - They are working to allow you to push your repo to AppHarbor and have `nuget.exe restore` called before your solution is build.</span></span>

<span data-ttu-id="5df48-190">與每個上述協力廠商，他們會使用自己的 nuget.exe 複本，以及您不需要在您的方案中執行 nuget.exe。</span><span class="sxs-lookup"><span data-stu-id="5df48-190">With each of the partners above, they would use their own copy of nuget.exe and you would not need to carry nuget.exe in your solution.</span></span>

#### <a name="known-issues"></a><span data-ttu-id="5df48-191">已知問題</span><span class="sxs-lookup"><span data-stu-id="5df48-191">Known Issues</span></span>

<span data-ttu-id="5df48-192">發生初始 2.7 版本中，nuget.exe 還原兩個已知的問題，但它們在 9/6/2013 與更新已修正[NuGet.CommandLine 封裝](http://www.nuget.org/packages/NuGet.CommandLine/)。</span><span class="sxs-lookup"><span data-stu-id="5df48-192">There were two known issues with nuget.exe restore with the initial 2.7 release, but they were fixed on 9/6/2013 with an update to the [NuGet.CommandLine package](http://www.nuget.org/packages/NuGet.CommandLine/).</span></span>  <span data-ttu-id="5df48-193">此更新也是位於[NuGet 2.7 下載頁面](https://nuget.codeplex.com/releases/view/107605)CodePlex 上。</span><span class="sxs-lookup"><span data-stu-id="5df48-193">This update is also available on the [NuGet 2.7 download page](https://nuget.codeplex.com/releases/view/107605) on CodePlex.</span></span>  <span data-ttu-id="5df48-194">執行`nuget.exe update -self`會更新至最新版本。</span><span class="sxs-lookup"><span data-stu-id="5df48-194">Running `nuget.exe update -self` will update to the latest release.</span></span>

<span data-ttu-id="5df48-195">已修正所示：</span><span class="sxs-lookup"><span data-stu-id="5df48-195">The fixed were:</span></span>

1. [<span data-ttu-id="5df48-196">使用 SLN 檔案時，新的套件還原無法在 Mono 上運作</span><span class="sxs-lookup"><span data-stu-id="5df48-196">New package restore doesn't work on Mono when using SLN file</span></span>](https://nuget.codeplex.com/workitem/3596)
1. [<span data-ttu-id="5df48-197">新的套件還原不適用於 Wix 專案</span><span class="sxs-lookup"><span data-stu-id="5df48-197">New package restore doesn't work with Wix projects</span></span>](https://nuget.codeplex.com/workitem/3598)

<span data-ttu-id="5df48-198">另外還有新的套件還原工作流程的已知的問題讓[自動套件還原不適用於專案的方案資料夾底下](https://nuget.codeplex.com/workitem/3625)。</span><span class="sxs-lookup"><span data-stu-id="5df48-198">There is also a known issue with the new package restore workflow whereby [Automatic Package Restore does not work for projects under a solution folder](https://nuget.codeplex.com/workitem/3625).</span></span> <span data-ttu-id="5df48-199">在 NuGet 2.7.1 中已經修正這個問題。</span><span class="sxs-lookup"><span data-stu-id="5df48-199">This issue was fixed in NuGet 2.7.1.</span></span>

### <a name="project-retargeting-and-upgrade-build-errorswarnings"></a><span data-ttu-id="5df48-200">重定專案目標與升級組建錯誤/警告</span><span class="sxs-lookup"><span data-stu-id="5df48-200">Project Retargeting and Upgrade Build Errors/Warnings</span></span>

<span data-ttu-id="5df48-201">多次之後重設目標或升級您的專案，您發現某些 NuGet 套件未正常運作。</span><span class="sxs-lookup"><span data-stu-id="5df48-201">Many times after retargeting or upgrading your project, you find that some NuGet packages aren't functioning properly.</span></span> <span data-ttu-id="5df48-202">不幸的是，這不表示，並就沒有指引如何處理它。</span><span class="sxs-lookup"><span data-stu-id="5df48-202">Unfortunately, there is no indication of this and then there's no guidance on how to address it.</span></span> <span data-ttu-id="5df48-203">NuGet 2.7，我們現在使用某些 Visual Studio 事件來識別您已重設目標或升級您的專案中的方式會影響您已安裝的 NuGet 套件。</span><span class="sxs-lookup"><span data-stu-id="5df48-203">With NuGet 2.7, we now use some Visual Studio events to recognize when you've retargeted or upgraded your project in a way that affects your installed NuGet packages.</span></span>

<span data-ttu-id="5df48-204">如果我們偵測到任何封裝的影響重設目標或升級，我們將會產生立即的建置錯誤，讓您知道。</span><span class="sxs-lookup"><span data-stu-id="5df48-204">If we detect that any of your packages were affected by the retargeting or upgrade, we'll produce immediate build errors to let you know.</span></span> <span data-ttu-id="5df48-205">除了立即的建置錯誤，我們也保存`requireReinstallation="true"`加上旗標在您`packages.config`檔案已受到重定目標，以及每個後續的所有套件建置在 Visual Studio 中將會引發這些套件的建置警告。</span><span class="sxs-lookup"><span data-stu-id="5df48-205">In addition to the immediate build error, we also persist a `requireReinstallation="true"` flag in your `packages.config` file for all packages that were affected by the retargeting, and each subsequent build in Visual Studio will raise build warnings for those packages.</span></span>

<span data-ttu-id="5df48-206">雖然 NuGet 無法採取自動動作來重新安裝受影響的套件，我們希望此指示和警告會引導協助您了解當您需要重新安裝套件。</span><span class="sxs-lookup"><span data-stu-id="5df48-206">Although NuGet cannot take automatic action to reinstall affected packages, we hope this indication and warning will guide help you discover when you need to reinstall packages.</span></span> <span data-ttu-id="5df48-207">我們也正在努力[套件重新安裝指引文件](../consume-packages/reinstalling-and-updating-packages.md)這些錯誤訊息引導您。</span><span class="sxs-lookup"><span data-stu-id="5df48-207">We are also working on [package reinstallation guidance documentation](../consume-packages/reinstalling-and-updating-packages.md) that these error messages direct you to.</span></span>

### <a name="nuget-configuration-defaults"></a><span data-ttu-id="5df48-208">NuGet 組態預設值</span><span class="sxs-lookup"><span data-stu-id="5df48-208">NuGet Configuration Defaults</span></span>

<span data-ttu-id="5df48-209">許多公司就內部而言，使用 NuGet，但有難引導其開發人員若要使用內部的套件來源，而非 nuget.org。NuGet 2.7 引進了可讓整個電腦的預設值為指定的組態預設值功能：</span><span class="sxs-lookup"><span data-stu-id="5df48-209">Many companies are using NuGet internally, but have had a hard time guiding their developers to use internal package sources instead of nuget.org. NuGet 2.7 introduces a Configuration Defaults feature that allows machine-wide defaults to be specified for:</span></span>

1. <span data-ttu-id="5df48-210">已啟用的套件來源</span><span class="sxs-lookup"><span data-stu-id="5df48-210">Enabled package sources</span></span>
1. <span data-ttu-id="5df48-211">已註冊，但已停用套件來源</span><span class="sxs-lookup"><span data-stu-id="5df48-211">Registered, but disabled package sources</span></span>
1. <span data-ttu-id="5df48-212">預設的 nuget.exe 推送來源</span><span class="sxs-lookup"><span data-stu-id="5df48-212">The default nuget.exe push source</span></span>

<span data-ttu-id="5df48-213">每一種現在位於檔案中設定`%ProgramData%\NuGet\NuGetDefaults.Config`。</span><span class="sxs-lookup"><span data-stu-id="5df48-213">Each of these can now be configured within a file located at `%ProgramData%\NuGet\NuGetDefaults.Config`.</span></span> <span data-ttu-id="5df48-214">如果此組態檔指定套件來源，則預設值 nuget.org 封裝來源不會自動登錄和中的虛擬機器`NuGetDefaults.Config`會改為註冊。</span><span class="sxs-lookup"><span data-stu-id="5df48-214">If this config file specifies package sources, then the default nuget.org package source will not be registered automatically, and the ones in `NuGetDefaults.Config` will be registered instead.</span></span>

<span data-ttu-id="5df48-215">雖然不一定要使用這項功能，我們會預期要部署的公司`NuGetDefaults.Config`檔案所使用的群組原則。</span><span class="sxs-lookup"><span data-stu-id="5df48-215">While not required to use this feature, we expect companies to deploy `NuGetDefaults.Config` files using Group Policy.</span></span>

<span data-ttu-id="5df48-216">*請注意，這項功能將會永遠不會導致從開發人員的 NuGet 設定中移除的套件來源。這表示如果開發人員已經使用 NuGet，且因此 nuget.org 套件來源註冊，它不會移除建立之後`NuGetDefaults.Config`檔案。*</span><span class="sxs-lookup"><span data-stu-id="5df48-216">*Note that this feature will never cause a package source to be removed from a developer's NuGet settings. That means if the developer has already used NuGet and therefore has the nuget.org package source registered, it won't be removed after the creation of a `NuGetDefaults.Config` file.*</span></span>

<span data-ttu-id="5df48-217">請參閱[NuGet 組態預設值](../consume-packages/configuring-nuget-behavior.md#nuget-defaults-file)如需有關這項功能。</span><span class="sxs-lookup"><span data-stu-id="5df48-217">See [NuGet Configuration Defaults](../consume-packages/configuring-nuget-behavior.md#nuget-defaults-file) for more information about this feature.</span></span>

### <a name="renaming-the-default-package-source"></a><span data-ttu-id="5df48-218">重新命名的預設套件來源</span><span class="sxs-lookup"><span data-stu-id="5df48-218">Renaming the Default Package Source</span></span>

<span data-ttu-id="5df48-219">NuGet 一律已登錄呼叫 「 NuGet 官方封裝來源 」 指向 nuget.org 的預設套件來源。該名稱的詳細資訊，它也未指定，它實際上已指向。</span><span class="sxs-lookup"><span data-stu-id="5df48-219">NuGet has always registered a default package source called "NuGet official package source" that points to nuget.org. That name was verbose and it also didn't specify where it was actually pointing.</span></span> <span data-ttu-id="5df48-220">若要解決這些兩個問題，我們已重新命名為只是"nuget.org"在 UI 中此套件來源。</span><span class="sxs-lookup"><span data-stu-id="5df48-220">To address those two issues, we've renamed this package source to simply "nuget.org" in the UI.</span></span> <span data-ttu-id="5df48-221">套件來源 URL 也已變更為包含"www"。</span><span class="sxs-lookup"><span data-stu-id="5df48-221">The URL for the package source was also changed to include the "www."</span></span> <span data-ttu-id="5df48-222">前置詞的「套件組合識別碼」。</span><span class="sxs-lookup"><span data-stu-id="5df48-222">prefix.</span></span> <span data-ttu-id="5df48-223">使用 NuGet 2.7 之後, 您現有 「 NuGet 官方封裝來源 」 會自動更新為"nuget.org"作為其名稱和"<https://www.nuget.org/api/v2/>」 做為其 URL。</span><span class="sxs-lookup"><span data-stu-id="5df48-223">After using NuGet 2.7, your existing "NuGet official package source" will automatically be updated to "nuget.org" as its name and "<https://www.nuget.org/api/v2/>" as its URL.</span></span>

### <a name="performance-improvements"></a><span data-ttu-id="5df48-224">效能改善</span><span class="sxs-lookup"><span data-stu-id="5df48-224">Performance Improvements</span></span>

<span data-ttu-id="5df48-225">我們將會產生較小的記憶體使用量、 較少的磁碟使用量和速度的套件安裝 2.7 中進行一些效能改進。</span><span class="sxs-lookup"><span data-stu-id="5df48-225">We made some performance improvement in 2.7 which will yield smaller memory footprint, less disk usage and faster package installation.</span></span> <span data-ttu-id="5df48-226">我們也對 OData 為基礎的摘要，用來減少整體的承載更聰明的查詢。</span><span class="sxs-lookup"><span data-stu-id="5df48-226">We also made smarter queries to OData-based feeds which will reduce the overall payload.</span></span>

### <a name="new-extensibility-apis"></a><span data-ttu-id="5df48-227">新的擴充性 Api</span><span class="sxs-lookup"><span data-stu-id="5df48-227">New Extensibility APIs</span></span>

<span data-ttu-id="5df48-228">我們加入我們的擴充性服務來填補遺漏功能的差異，在舊版中的某些新的 Api。</span><span class="sxs-lookup"><span data-stu-id="5df48-228">We added some new APIs to our extensibility services to fill the gap of missing functionalities in previous releases.</span></span>

#### <a name="ivspackageinstallerservices"></a><span data-ttu-id="5df48-229">IVsPackageInstallerServices</span><span class="sxs-lookup"><span data-stu-id="5df48-229">IVsPackageInstallerServices</span></span>

    ```cs
    // Checks if a NuGet package with the specified Id and version is installed in the specified project.
    bool IsPackageInstalledEx(Project project, string id, string versionString);

    // Get the list of NuGet packages installed in the specified project.
    IEnumerable<IVsPackageMetadata> GetInstalledPackages(Project project);
    ```

#### <a name="ivspackageinstaller"></a><span data-ttu-id="5df48-230">IVsPackageInstaller</span><span class="sxs-lookup"><span data-stu-id="5df48-230">IVsPackageInstaller</span></span>

    ```cs
    // Installs one or more packages that exist on disk in a folder defined in the registry.
    void InstallPackagesFromRegistryRepository(string keyName, bool isPreUnzipped, bool skipAssemblyReferences, Project project, IDictionary<string, string> packageVersions);

    // Installs one or more packages that are embedded in a Visual Studio Extension Package.
    void InstallPackagesFromVSExtensionRepository(string extensionId, bool isPreUnzipped, bool skipAssemblyReferences, Project project, IDictionary<string, string> packageVersions);
    ```

### <a name="development-only-dependencies"></a><span data-ttu-id="5df48-231">僅限開發相依性</span><span class="sxs-lookup"><span data-stu-id="5df48-231">Development-Only Dependencies</span></span>

<span data-ttu-id="5df48-232">這項功能已由發表[Adam Ralph](https://twitter.com/adamralph) ，它可讓套件作者將宣告只用於在開發階段的相依性的時間，而且不需要套件相依性。</span><span class="sxs-lookup"><span data-stu-id="5df48-232">This feature was contributed by [Adam Ralph](https://twitter.com/adamralph) and it allows package authors to declare dependencies that were only used at development time and don't require package dependencies.</span></span> <span data-ttu-id="5df48-233">藉由新增`developmentDependency="true"`屬性中的封裝`packages.config`，`nuget.exe pack`將不會再包括該套件作為相依性。</span><span class="sxs-lookup"><span data-stu-id="5df48-233">By adding a `developmentDependency="true"` attribute to a package in `packages.config`, `nuget.exe pack` will no longer include that package as a dependency.</span></span>

### <a name="removed-support-for-visual-studio-2010-express-for-windows-phone"></a><span data-ttu-id="5df48-234">移除 Visual Studio 2010 Express for Windows Phone 的支援</span><span class="sxs-lookup"><span data-stu-id="5df48-234">Removed Support for Visual Studio 2010 Express for Windows Phone</span></span>

<span data-ttu-id="5df48-235">新的套件還原模型，在 2.7 是由新的 VSPackage，不同於主要 NuGet VSPackage 實作。</span><span class="sxs-lookup"><span data-stu-id="5df48-235">The new package restore model in 2.7 is implemented by a new VSPackage which is different from the main NuGet VSPackage.</span></span> <span data-ttu-id="5df48-236">因為技術問題，這個新的 VSPackage 無法正確運作*Visual Studio 2010 Express for Windows Phone* SKU，以與其他共用相同的程式碼基底支援 Visual Studio Sku。</span><span class="sxs-lookup"><span data-stu-id="5df48-236">Due to a technical issue, this new VSPackage doesn't work correctly in the *Visual Studio 2010 Express for Windows Phone* SKU as we share the same code base with other supported Visual Studio SKUs.</span></span> <span data-ttu-id="5df48-237">因此，從 NuGet 2.7 開始，我們會卸除的支援*Visual Studio 2010 Express for Windows Phone*從已發佈的延伸模組。</span><span class="sxs-lookup"><span data-stu-id="5df48-237">Therefore, starting with NuGet 2.7, we are dropping support for *Visual Studio 2010 Express for Windows Phone* from the published extension.</span></span> <span data-ttu-id="5df48-238">支援*Visual Studio 2010 Express for Web*仍然包含在發行至 Visual Studio 延伸模組組件庫的主要延伸模組。</span><span class="sxs-lookup"><span data-stu-id="5df48-238">Support for *Visual Studio 2010 Express for Web* is still included in the primary extension published to the Visual Studio Extension Gallery.</span></span>

<span data-ttu-id="5df48-239">因為我們不確定如何許多開發人員仍在使用 NuGet 在該版本的 Visual Studio 中，我們所發佈個別的 Visual Studio 擴充功能，專為這些使用者，並將其發佈在 CodePlex （而不是 Visual Studio 延伸模組程式庫）.</span><span class="sxs-lookup"><span data-stu-id="5df48-239">Since we are unsure how many developers are still using NuGet in that version/edition of Visual Studio, we are publishing a separate Visual Studio extension specifically for those users and publishing it on CodePlex (rather than the Visual Studio Extension Gallery).</span></span> <span data-ttu-id="5df48-240">我們不打算繼續維護該延伸模組，但如果這會影響您，請讓我們知道藉由在 CodePlex 上提出問題。</span><span class="sxs-lookup"><span data-stu-id="5df48-240">We don't plan to continue to maintain that extension, but if this affects you please let us know by filing an issue on CodePlex.</span></span>

<span data-ttu-id="5df48-241">若要下載 NuGet 套件管理員 （適用於 Visual Studio 2010 Express for Windows Phone)，請瀏覽[NuGet 2.7 下載](https://nuget.codeplex.com/releases/view/107605)頁面。</span><span class="sxs-lookup"><span data-stu-id="5df48-241">To download the NuGet Package Manager (for Visual Studio 2010 Express for Windows Phone), visit the [NuGet 2.7 Downloads](https://nuget.codeplex.com/releases/view/107605) page.</span></span>

### <a name="bug-fixes"></a><span data-ttu-id="5df48-242">Bug 修正</span><span class="sxs-lookup"><span data-stu-id="5df48-242">Bug Fixes</span></span>

<span data-ttu-id="5df48-243">除了這些功能，這一版的 NuGet 也會包含其他許多 bug 修正。</span><span class="sxs-lookup"><span data-stu-id="5df48-243">In addition to these features, this release of NuGet also includes many other bug fixes.</span></span> <span data-ttu-id="5df48-244">發生在版本中解決的 97 總問題。</span><span class="sxs-lookup"><span data-stu-id="5df48-244">There were 97 total issues addressed in the release.</span></span> <span data-ttu-id="5df48-245">如需完整的工作清單項目中已修正 NuGet 2.7，請檢視[此版本的 NuGet Issue Tracker](https://nuget.codeplex.com/workitem/list/advanced?release=NuGet%202.7&status=all)。</span><span class="sxs-lookup"><span data-stu-id="5df48-245">For a full list of work items fixed in NuGet 2.7, please view the [NuGet Issue Tracker for this release](https://nuget.codeplex.com/workitem/list/advanced?release=NuGet%202.7&status=all).</span></span>
